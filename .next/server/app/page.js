(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u});var s=r(292),n=r(1979),o=r(3907),i=r.n(o),a=r(6108),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5866)),"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser_test_bare_next_js\\app\\page.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5203)),"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser_test_bare_next_js\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9153,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,6652,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,7885,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser_test_bare_next_js\\app\\page.js"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},5351:(e,t,r)=>{Promise.resolve().then(r.bind(r,5866))},5615:(e,t,r)=>{Promise.resolve().then(r.bind(r,1478))},8625:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,8291,23)),Promise.resolve().then(r.t.bind(r,2831,23)),Promise.resolve().then(r.t.bind(r,3907,23)),Promise.resolve().then(r.t.bind(r,1410,23)),Promise.resolve().then(r.t.bind(r,6134,23)),Promise.resolve().then(r.t.bind(r,3202,23)),Promise.resolve().then(r.t.bind(r,3673,23))},3777:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4231,23)),Promise.resolve().then(r.t.bind(r,4875,23)),Promise.resolve().then(r.t.bind(r,6863,23)),Promise.resolve().then(r.t.bind(r,8110,23)),Promise.resolve().then(r.t.bind(r,2794,23)),Promise.resolve().then(r.t.bind(r,4542,23)),Promise.resolve().then(r.t.bind(r,7453,23))},7221:()=>{},9077:()=>{},1478:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(7120),n=r(6177);let o="/sam_browser_test_bare_next_js/out";function i({statusMessage:e}){return(0,s.jsx)("p",{id:"statusParagraph",style:{whiteSpace:"pre-wrap"},children:e})}function a(){return(0,s.jsx)("button",{onClick:function(){let e="Javascript is working!";"function"==typeof untar&&(e+=" Untar is loaded!"),alert(e)},children:"Test Javascript"})}function l(){return(0,s.jsx)("button",{onClick:function(){let e=indexedDB.open("testDatabase",2);e.onupgradeneeded=function(e){e.target.result.createObjectStore("testStore"),console.log("created object store testStore")},e.onsuccess=function(e){let t=e.target.result.transaction("testStore","readwrite"),r=t.objectStore("testStore"),s=Date.now();r.put(s,"currentTime"),t.oncomplete=function(){alert("IDB currentTime set to "+s)}}},children:"Set IDB currentTime"})}function u(){let e=async function(){indexedDB.open("testDatabase",2).onsuccess=function(e){e.target.result.transaction(["testStore"],"readwrite").objectStore("testStore").get("currentTime").onsuccess=function(e){alert("IDB currentTime is "+e.target.result)}}};return(0,s.jsx)("button",{onClick:e,children:"Get IDB currentTime"})}function c(e){let t=e.filesToStore;return(0,s.jsx)("button",{onClick:function(e){let r=indexedDB.open("fileDatabase",1);r.onupgradeneeded=function(e){e.target.result.createObjectStore("allFiles"),console.log("Created allFiles object store")},r.onsuccess=function(e){let r=e.target.result.transaction("allFiles","readwrite"),s=r.objectStore("allFiles");for(let e in t)s.put(t[e].blob,t[e].name);r.oncomplete=function(){alert(t.length+" files stored in IDB")}}},children:"Store Files in IDB"})}function d(e){let t=e.filesToStore,r=e.statusMessageSetter;return(0,s.jsx)("button",{onClick:function(){console.log("Clicked for web worker. Base Prefix: "+(o.length>0?o:"empty"));let e=new Worker(o+"/worker_for_store_files_in_idb.js");e.onmessage=function(e){"status_update_from_web_worker"==e.data.type&&r(e.data.content)},e.postMessage({filesToStore:t,fileDatabaseVersion:1})},children:"Store Files in IDB With Web Worker"})}function p(e){let[t,r]=(0,n.useState)(null),[o,i]=(0,n.useState)(-1);return(0,s.jsx)("img",{onClick:function(){indexedDB.open("fileDatabase",1).onsuccess=function(e){e.target.result.transaction("allFiles","readwrite").objectStore("allFiles").getAll().onsuccess=function(e){let t=e.target.result;i((o+1)%t.length);let s=new Blob([t[o]],{type:"image/webp"});console.log({filesDotLength:t.length,indexOfCurrentImage:o,newBlob:s}),r(URL.createObjectURL(s))}}},width:100,height:100,src:t})}console.log("Base prefix: "+(o.length>0?o:"empty"));let b=function(){let[e,t]=(0,n.useState)(null),[r,o]=(0,n.useState)("Waiting for file input."),[b,f]=(0,n.useState)(null),m=function(e){let t="";return e.forEach(e=>{t+=e.name+"\n"}),t};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{children:["Untar & IDB Test v",6]}),(0,s.jsx)("input",{type:"file",onChange:e=>{let r=e.target.files[0];if("application/x-tar"!==r.type){alert("Please select a tar file");return}t(r)}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{onClick:()=>{if(null===e){alert("Please select a file first.");return}o("Untarring...");let t=new FileReader;t.onload=function(e){untar(t.result).then(function(e){let t=[];for(let r in e){let s=new Blob([e[r].blob],{type:"image/webp"}),n={name:e[r].name,blob:s,size:e[r].size};t.push(n)}f(t),console.log(t),o(t.length+" files extracted:\n"+m(t))},function(e){console.log("error handler"),o("Error: "+t.error.message)})},t.onerror=function(e){o("Error: "+t.error.message)},t.readAsArrayBuffer(e)},children:"Untar"}),(0,s.jsx)("br",{}),(0,s.jsx)(a,{})," ",(0,s.jsx)("br",{}),(0,s.jsx)(u,{})," ",(0,s.jsx)("br",{}),(0,s.jsx)(l,{})," ",(0,s.jsx)("br",{}),(0,s.jsx)(c,{filesToStore:b})," ",(0,s.jsx)("br",{}),(0,s.jsx)(d,{filesToStore:b,statusMessageSetter:o}),(0,s.jsx)("br",{}),(0,s.jsx)(i,{statusMessage:r}),(0,s.jsx)(p,{})]})}},5203:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>n});var s=r(532);let n={title:"UntarIDB Test",description:""};function o({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsx)("head",{children:(0,s.jsx)("script",{src:"/sam_browser_test_bare_next_js/out/untar.js"})}),(0,s.jsx)("body",{children:e})]})}},5866:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(9480).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\qwert\\\\Documents\\\\00_Coding\\\\sam_browser\\\\sam_browser_test_bare_next_js\\\\app\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\qwert\\Documents\\00_Coding\\sam_browser\\sam_browser_test_bare_next_js\\app\\page.js","default")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[179],()=>r(4984));module.exports=s})();